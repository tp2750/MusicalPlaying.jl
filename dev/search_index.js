var documenterSearchIndex = {"docs":
[{"location":"notes/#Notes","page":"Notes","title":"Notes","text":"","category":"section"},{"location":"notes/","page":"Notes","title":"Notes","text":"A Note is a type meant to encode the abstract note:","category":"page"},{"location":"notes/","page":"Notes","title":"Notes","text":"pitch::Int: the height of the tone\nloudness::Float32: the volume of the tone\nduration::Float32: the length of the tone","category":"page"},{"location":"notes/","page":"Notes","title":"Notes","text":"The pitch is just an integer, and not a frequency. The frequency is assigned by a TuningSystem. This means that the same melody (series of notes) can easily be analyzed in different tunings by changing the tuning.","category":"page"},{"location":"notes/","page":"Notes","title":"Notes","text":"We also define a Chord which is a vector of notes, that all have the same duration, but may differ in loudness.","category":"page"},{"location":"notes/","page":"Notes","title":"Notes","text":"We define an AbstractNote covering Note and Chord, and define play and save methods on the AbstractNote. ","category":"page"},{"location":"notes/#Playing-Notes","page":"Notes","title":"Playing Notes","text":"","category":"section"},{"location":"notes/","page":"Notes","title":"Notes","text":"We have methods for directly playing notes: play_wav_direct.  This will take:","category":"page"},{"location":"notes/","page":"Notes","title":"Notes","text":"a Note and play the note using a standard equal temperemt\na Chord and play the chord\na Vector{N} where N <: AbstractNote and play a sequence of Notes or Chords","category":"page"},{"location":"notes/","page":"Notes","title":"Notes","text":"Here are some examples:","category":"page"},{"location":"notes/","page":"Notes","title":"Notes","text":"using MusicalPlaying\nplay_wav_direct(\"A\")\nplay_wav_direct(chord([\"C\", \"E\", \"G\"]))\nplay_wav_direct(note.([\"C\", \"E\", \"G\"]))\nplay_wav_direct([chord([\"C\", \"E\", \"G\"]), chord([\"F\",\"A\",\"C\"]), chord([\"G\", \"B\", \"D\"]), chord([\"C\", \"E\", \"G\"])])","category":"page"},{"location":"notes/","page":"Notes","title":"Notes","text":"The play_wav_direct methods work by writeing and reading a WAV-file.  We (will also) have play_portaudio methods that use PortAudio.jl and SampleSignals.jl to play a stream.  This is more efficient for long pieces. But the play_wav_diret is simple and very robust for studiyng short phrases.","category":"page"},{"location":"api/#MusicalPlaying","page":"API","title":"MusicalPlaying","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"API documentation for MusicalPlaying.","category":"page"},{"location":"api/","page":"API","title":"API","text":"","category":"page"},{"location":"api/#MusicalPlaying.AbstractNote","page":"API","title":"MusicalPlaying.AbstractNote","text":"    AbstractNote covers Note and Chord\n\n\n\n\n\n","category":"type"},{"location":"api/#MusicalPlaying.Note","page":"API","title":"MusicalPlaying.Note","text":"    `Note(pitch::Int, duration::Float32, volume::Float32)`\n    `pitch` is the pitch number. MIDI sets pitch 69 to A4 and 440 Hz. This can be modulated by a Tuning.\n    `loudness` is relative volume. A note of loudness 2 has twice the amplitued as one of loudness 1.\n    `duration` is the duration in beats. Typically a quater note has a duration of 1, and a half note a duration of 2.\n\n\n\n\n\n","category":"type"},{"location":"api/#MusicalPlaying.TuningSystem","page":"API","title":"MusicalPlaying.TuningSystem","text":"TuningSystem{T}\n\nData structure for a tuning system. A tuning system is defined by a vector of scalings of the type T (probably <: Number). The scalings are frequency rations within the octave of the pitches of the tones in the octave. It also includes names of each scaling. In case of the 12 tone equal temperement, it could be the names of the notes: C, C#, D, D#, E, ..., B. It also includes a name of the tuning (used for plotting etc).\n\nPreferably use the constructor function tuning_system to construct it.\n\n\n\n\n\n","category":"type"},{"location":"api/#MusicalPlaying.equal_tempered-Tuple{Any}","page":"API","title":"MusicalPlaying.equal_tempered","text":"equal_tempered(n)\n\nConstructs an equal tempered tuning of length n.\n\nIf the length n is 12, the names of the scalings are set to the standard names of the notes: \"C\", \"C#\", \"D\", \"D#\", \"E\", \"F\", \"F#\", \"G\", \"G#\", \"A\", \"A#\", \"B\".\n\nThe scalings of and equal tempered scale of length n divides the octave evenly on a log scale. This means the ratio between successive scalings are 2^(1/n).\n\nSo the vector of scalings is:\n\n    scalings = [(2^(1/n))^x for x in 0:(n-1)]\n\n\n\n\n\n","category":"method"},{"location":"api/#MusicalPlaying.mk_tuning-Tuple{MusicalPlaying.TuningSystem}","page":"API","title":"MusicalPlaying.mk_tuning","text":"mk_tuning: Generate Tuning based on TuningSystem\n\n\n\n\n\n","category":"method"},{"location":"api/#MusicalPlaying.tuning_system-Union{Tuple{T}, Tuple{Int64, Vector{T}, String, Vector{String}}} where T<:Number","page":"API","title":"MusicalPlaying.tuning_system","text":" tuning_system(v::Vector{T}, [n::String], [s::Vector{String}]) where T <: Number -> TuningSystem\n\nConstruct a TuningSystem.\n\nArguments\n\nv::Vector: The vector of scaings defining the function.\nn::String: The name of the tuning system. Defaults to \"tuning\"\ns::Vector{String}: The names of the scalings. Defaults to string.v()\n\n\n\n\n\n","category":"method"},{"location":"sounds/#Sounds","page":"Sounds","title":"Sounds","text":"","category":"section"},{"location":"sounds/","page":"Sounds","title":"Sounds","text":"A sound is a function and a duration it sould be played. When playing a sound, the function is sampled to generate a sound of the required length.","category":"page"},{"location":"sounds/","page":"Sounds","title":"Sounds","text":"We can get a sound, from a note through this path:","category":"page"},{"location":"sounds/","page":"Sounds","title":"Sounds","text":"Note + Tuning -> Tone\nTone + Instrument -> Sound","category":"page"},{"location":"sounds/","page":"Sounds","title":"Sounds","text":"So the Note encodes the abstract musical information about pich, duration and loudness. The Tuning turns this into frequency. The instrument describes how to actually render the tone: it is ","category":"page"},{"location":"sounds/","page":"Sounds","title":"Sounds","text":"a periodic function (tone generator)\nan envelope\neffects to apply before enforcing the envelope","category":"page"},{"location":"sounds/","page":"Sounds","title":"Sounds","text":"The simples instrument is just a sine function, but with an envelope extending the playing to it reaches 0.","category":"page"},{"location":"sounds/","page":"Sounds","title":"Sounds","text":"That instrument is caled sine.","category":"page"},{"location":"sounds/","page":"Sounds","title":"Sounds","text":"using MusicalPlaying\nn1 = note(\"C\")\nt1 = tone(n1, tuning = tet12)\ns1 = sound(t1, sine)\nplay_wav(s1)","category":"page"},{"location":"sounds/","page":"Sounds","title":"Sounds","text":"Playing a short melody:","category":"page"},{"location":"sounds/","page":"Sounds","title":"Sounds","text":"using MusicalPlaying\nm1 = Melody([note(\"C\"), note(\"E\"), note(\"G\")])\ns1 = sound(m1, sine)\nplay_wav(s1)","category":"page"},{"location":"sounds/","page":"Sounds","title":"Sounds","text":"How does the samples look?","category":"page"},{"location":"sounds/","page":"Sounds","title":"Sounds","text":"using MusicalPlaying\nn1 = note(\"A\")\nt1 = tone(n1, tuning = tet12)\ns1 = sound(t1, sine)\ns2 = MusicalPlaying.sample(s1)\nplot(s2[1:100])\nplot(s2[end-100:end])\nlength(s2) # 44201\ns1.seconds # 1.0022727","category":"page"},{"location":"sounds/","page":"Sounds","title":"Sounds","text":"I we use the simple sin() function it would not end at zero, but it respects the 1s tone length.","category":"page"},{"location":"sounds/","page":"Sounds","title":"Sounds","text":"julia> plot(plot(MusicalPlaying.sample_wav_direct(note(\"C\"))[43900:end]), plot(MusicalPlaying.sample(sound(tone(note(\"C\")),sine))[43900:end]), link=:both, layout=(2,1), label=[\"sin\" \"sine\"])","category":"page"},{"location":"sounds/","page":"Sounds","title":"Sounds","text":"(Image: sin vs sine)","category":"page"},{"location":"#MusicalPlaying.jl","page":"Home","title":"MusicalPlaying.jl","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"MusicalPlaying is my Julia package for playing (with) music.","category":"page"},{"location":"","page":"Home","title":"Home","text":"It grew out of TuningSystems.jl presented on JuliaCon2024 to have a more complete and better structured package.  It has some overlap with MusicTheory.jl and MIDI.jl from JuliaMusic.  In time, this may be resolved, but for now, I focus on writing the package, as I find most logical.","category":"page"},{"location":"","page":"Home","title":"Home","text":"I plan to cover:","category":"page"},{"location":"","page":"Home","title":"Home","text":"[X] Playing simple notes, chords and melodies.\n[ ] Explore different Tuning Systems, in particular Just Intonation\n[ ] Represent Scores of several voices\n[ ] Use DataFrames to view Scores as in a Tracker\n[ ] Plot notes, chords and scores in an \"isometric\" form more natural that the classical scores\n[ ] Possibly generate traditional Piano-roll plots\n[ ] Define basic types to represent note, tone, sound\n[ ] Explore sound synthesis\n[ ] Act as a very simple MIDI player\n[ ] Parse (simple) Lilypond syntax","category":"page"},{"location":"","page":"Home","title":"Home","text":"On the synthesis side, I want to keep working on functions as long as possible, and only sample just before rendering to WAV.","category":"page"},{"location":"#Basic-Data-Types","page":"Home","title":"Basic Data Types","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"The basic data sctructures are similar, but different from both MIDI.jl and MusicTheory.jl.","category":"page"},{"location":"#Note","page":"Home","title":"Note","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"The Note data type descries an abstract note, as we see in a score:","category":"page"},{"location":"","page":"Home","title":"Home","text":"The \"pictch\": note height. An integer between 0 and 127 as the MIDI note. Not directly a frequency, we get that through the \"TunigSystem\".\nThe \"loudness\": relative volume. Not directly amplitude. That comes in a mastering step just before sampling. Defaults to 1. Perhaps \"forte\" is 2 and \"piano\" as 0.5.\nThe \"duration\": relative note length. 1 is a \"beat\", so a duration of 1 sounds for 1 sec if the tempo is 60 bpm. Typically, a auarter note has a dutration of 1, and a half note a duration of 2.","category":"page"},{"location":"#Chord","page":"Home","title":"Chord","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"a Chord is a sequence (Vector) of Notes with the same duration (but possibly different loudness) that are played together at the same time.","category":"page"},{"location":"#AbstractNote","page":"Home","title":"AbstractNote","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Note and Chord are the instances of AbstractNote.","category":"page"},{"location":"#Melody","page":"Home","title":"Melody","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"A Melody is a sequence (Vector) of Notes and Chords that are played in succession.","category":"page"},{"location":"#Tone","page":"Home","title":"Tone","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"The tone combines a Note or Chrod with a Tuning to assign frequency to the pitch. This was the objective of TuningSystems.jl.","category":"page"},{"location":"","page":"Home","title":"Home","text":"The slots of Tone are","category":"page"},{"location":"","page":"Home","title":"Home","text":"frequency: The frequency in Hz.\nnote: remember the AbstractNote this comes from\ntuning: remember the Tuning used","category":"page"},{"location":"#Sound","page":"Home","title":"Sound","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"A sound is a function that can be sampled.","category":"page"}]
}
